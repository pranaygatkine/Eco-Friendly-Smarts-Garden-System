<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>GreenGenie</title>
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&amp;display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }

        .icon {
            font-family: 'Material Icons';
        }

        .shadow-top {
            box-shadow: 0 -4px 6px -1px rgb(0 0 0 / 0.1), 0 -2px 4px -2px rgb(0 0 0 / 0.1);
        }
    </style>
    <style>
        body {
            min-height: max(884px, 100dvh);
        }
    </style>
</head>

<body class="bg-gray-50">
    <div class="max-w-sm mx-auto bg-white shadow-lg rounded-lg overflow-hidden relative" id="app">
        <div id="home-page">
            <div class="p-4">
                <header class="flex justify-between items-center pb-4">
                    <button class="icon text-3xl text-gray-700" id="menu-btn">menu</button>
                    <div class="flex flex-col items-center">
                        <img alt="GreenGenie logo" class="h-6"
                            src="assets\logo (2).png" />
                        <h1 class="text-2xl font-bold text-green-600">GreenGenie</h1>
                    </div>
                    <button class="icon text-3xl text-gray-700" id="notification-btn">notifications_none</button>
                </header>
                <div class="relative bg-amber-100 rounded-2xl p-4 flex items-center overflow-hidden mb-4"
                    id="exclusive-offer">
                    <img alt="Woman holding a cactus" class="w-32 h-40 object-cover rounded-lg"
                        src="https://lh3.googleusercontent.com/aida-public/AB6AXuAo2eUSlvSyWGu3u5kg5f59Cel89ZpW_ffx9LUL6kCoHj2uHv7LSFtgTuHeiYd8FN8VEyLzYLz7FJLBSNIcqwSOjdN7cqLASOk7BS51XFf8p3V8xM_4P-dDKeuUsiG9JJA_Xyf21KSpx7kFzSRvTrPhfkf16A39yxutywg6gfp_GbVRtrPjnuTETxajlAjbWWJTvfIXt-0XCdgWbZg2I0HnZJV2Gx-46J1nEBKaf6DSi7CC4U5itKRrvdOb0jXU_CjjlKKVqArHp7M" />
                    <div class="ml-4">
                        <h2 class="text-xl font-bold text-gray-800">Exclusive Offer</h2>
                        <p class="text-gray-600 mt-1">Get your 1st plant @ 60% off</p>
                    </div>
                    <!-- <button class="absolute right-4 bottom-4 text-gray-600 text-xs" id="swipe-btn">Swipe <span class="icon">chevron_right</span></button> -->
                    <button class="absolute right-4 bottom-4 text-gray-600 text-xs" id="swipe-btn">
                        <span class="icon">chevron_left</span>
                        <span class="text-lg tracking-widest">● ● ● ● ●</span>
                        <span class="icon">chevron_right</span>
                    </button>

                </div>
                <div class="relative mb-4">
                    <span class="icon absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">search</span>
                    <input
                        class="w-full pl-10 pr-12 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500"
                        id="search-input" placeholder="Search" type="text" />
                    <!-- <button class="icon absolute right-3 top-1/2 -translate-y-1/2 text-gray-600" id="scan-btn">qr_code_scanner</button> -->

                    <button class="icon absolute right-3 top-1/2 -translate-y-1/2 text-gray-600" id="scan-btn">
                        qr_code_scanner
                    </button>

                    <!-- This is where the QR scanner will be displayed -->
                    <div id="qr-reader" style="width: 300px; display: none;"></div>


                </div>
                <nav class="flex justify-around mb-4">
                    <button class="flex flex-col items-center text-green-600 border-b-2 border-green-600 pb-2"
                        id="indoor-btn">
                        <span class="icon text-3xl">local_florist</span>
                        <span class="text-sm font-medium">Indoor</span>
                    </button>
                    <button class="flex flex-col items-center text-gray-500" id="crops-btn">
                        <span class="icon text-3xl">eco</span>
                        <span class="text-sm font-medium">Crops</span>
                    </button>
                    <button class="flex flex-col items-center text-gray-500" id="green-btn">
                        <span class="icon text-3xl">grass</span>
                        <span class="text-sm font-medium">Green</span>
                    </button>
                </nav>
                <main class="space-y-4" id="plant-list">
                </main>
            </div>
        </div>
        <div class="hidden p-4" id="plant-health-page">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Plant Health</h2>
            <div class="bg-blue-100 p-4 rounded-lg">
                <p class="text-blue-800">Your plants are healthy! Keep up the good work.</p>
            </div>
        </div>
        <div class="hidden p-4" id="subscriptions-page">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Subscriptions</h2>
            <div class="bg-purple-100 p-4 rounded-lg">
                <p class="text-purple-800">You are subscribed to the 'Premium Plant Care' plan.</p>
            </div>
        </div>
        <div class="hidden p-4" id="ecommerce-page">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">E-commerce</h2>
            <div class="grid grid-cols-2 gap-4">
                <div class="bg-white rounded-lg p-2 shadow">
                    <img alt="Gardening Tools" class="rounded-md h-24 w-full object-cover"
                        src="https://lh3.googleusercontent.com/aida-public/AB6AXuByQNBkSGjiy-FfwHDo1NlIVxNTLUPTNeXN5ruC_5yQ1piq1dik9I0l6QuphbY9ZtNhYjcCpA3mziSz5rc9Tv2JDWGbjh0tSLBYQ5_n7_OLvuTF8c9yE_r8bUd2Bx5JX1BiFLhAl-B8wE2wQIIZrxDhUQ4D52lIHBwAm48Daai-0HFRYCDZghfxKXuseFRCpZWW85Q-PNyfT8OQVxbqoBUSIA57iFyBKSXQKeaGyWnjeH25C_3EARj3GTAZImmgSbghY2gh5tCqaW4" />
                    <h3 class="font-semibold mt-2">Gardening Tools</h3>
                    <p class="text-sm text-gray-600">$25.00</p>
                    <button class="w-full mt-2 bg-green-500 text-white py-1 rounded-md text-sm">Add to Cart</button>
                </div>
                <div class="bg-white rounded-lg p-2 shadow">
                    <img alt="Organic Fertilizer" class="rounded-md h-24 w-full object-cover"
                        src="https://lh3.googleusercontent.com/aida-public/AB6AXuAr5KZdbaHi-htKubbrAq9AQzfYjJ88zac_E-Ln2tUgiizRhzPZRQqO9zkDJ_L5Pysfn2NC7NpNW0K3NqcjzZ6zXIIWr5BYSx7_6CdiLZ9x_DCoowe7F0zNp-gJ6_7ZzvGT8SS8-8yeFdmT4W7AmzARmwQJTBcx4jfh_p7QoOSfvgM7qrgk85ZZnIVnM4ove6g7Vc2gvLX7bBEUpr9YwsABx0dNNmKFcBOpfJhzKgRKMS1t-sweAdKrcaP15eSvrWB6WaVlfHg3p_M" />
                    <h3 class="font-semibold mt-2">Organic Fertilizer</h3>
                    <p class="text-sm text-gray-600">$15.00</p>
                    <button class="w-full mt-2 bg-green-500 text-white py-1 rounded-md text-sm">Add to Cart</button>
                </div>
                <div class="bg-white rounded-lg p-2 shadow">
                    <img alt="Decorative Pots" class="rounded-md h-24 w-full object-cover"
                        src="https://lh3.googleusercontent.com/aida-public/AB6AXuAjJCSqvooPRY8TscMNOspXqUiz2KuV2qnPP9MG3Xi3MB-V_sftwduV5qfda_3LLfO71AWQOtLTQas0CvMFlgZiGP96SXp4p7v0kG92vCjslVeSycpS8cfkcJyvQ95tUBIVz6KipZ2i3llAsOfq6Ld_Li9BRFb0LDa1LX04Uqz3HfkkDGfvnZLBJyMpVwEehYrmkiS3wB34EdQJuYwlUNzzXNxPUFldNXcriMevTS_gxhSt2F6w_AWjbNOWNx6_uYZ2UxaNtSDF100" />
                    <h3 class="font-semibold mt-2">Decorative Pots</h3>
                    <p class="text-sm text-gray-600">$20.00</p>
                    <button class="w-full mt-2 bg-green-500 text-white py-1 rounded-md text-sm">Add to Cart</button>
                </div>
                <div class="bg-white rounded-lg p-2 shadow">
                    <img alt="Pest Control" class="rounded-md h-24 w-full object-cover"
                        src="https://lh3.googleusercontent.com/aida-public/AB6AXuA7iqicI2DxFSneqp5_S5EzdTw31zTabIn0kcPB3UyfU_VgR6-KMkZF3fUYsbHDC5B-qR9Z5N4Zw1tSBSaymemAVgwLqGZfOa6m-3EpPZA97iJvXGb5Y8SYk94vTYCt0UrRldGLn5WbwyATnsKQM1QmnxpnK3jsDb8eDJ5hU8fkF8VQXDJMuhdQx6D2MM7SWIDbecMOojgG9sreN1Ph-nXRQ7vD1uNkSJ0rjp6TTRkM5rGGtAWmdDhCL2OAsnXl70-kgy0JKc-lSJE" />
                    <h3 class="font-semibold mt-2">Pest Control</h3>
                    <p class="text-sm text-gray-600">$18.00</p>
                    <button class="w-full mt-2 bg-green-500 text-white py-1 rounded-md text-sm">Add to Cart</button>
                </div>
            </div>
        </div>
        <div class="hidden p-4" id="recommendations-page">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Recommendations</h2>
            <div class="space-y-4">
                <div class="bg-yellow-100 p-4 rounded-lg">
                    <p class="text-yellow-800">We recommend watering your Monstera twice a week.</p>
                </div>
                <div class="bg-green-100 p-4 rounded-lg">
                    <p class="text-green-800">Your Snake Plant would love some indirect sunlight.</p>
                </div>
            </div>
        </div>
        <footer
            class="fixed bottom-0 left-0 right-0 max-w-sm mx-auto bg-white border-t border-gray-200 flex justify-around py-2 rounded-t-2xl shadow-top">
            <button class="flex flex-col items-center text-green-600 text-3xl"
                onclick="handleFooterClick('home', event)">
                <span class="icon">home</span>
                <span class="text-xs"></span>
            </button>
            <button class="flex flex-col items-center text-gray-400 text-3xl"
                onclick="handleFooterClick('plant-health', event)">
                <span class="icon">spa</span>
                <span class="text-xs"></span>
            </button>
            <button class="flex flex-col items-center text-gray-400 text-3xl"
                onclick="handleFooterClick('subscriptions', event)">
                <span class="icon">emoji_events</span>
                <span class="text-xs"></span>
            </button>
            <button class="flex flex-col items-center text-gray-400 text-3xl"
                onclick="handleFooterClick('ecommerce', event)">
                <span class="icon">storefront</span>
                <span class="text-xs"></span>
            </button>
            <button class="flex flex-col items-center text-gray-400 text-3xl"
                onclick="handleFooterClick('recommendations', event)">
                <span class="icon">yard</span>
                <span class="text-xs"></span>
            </button>
        </footer>
        <div class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center" id="menu">


            <div class="w-3/4 max-w-sm h-full bg-white p-6">
                <div class="flex items-center mb-8">
                    <img alt="User Avatar" class="h-12 w-12 rounded-full object-cover"
                        src="https://lh3.googleusercontent.com/aida-public/AB6AXuAo2eUSlvSyWGu3u5kg5f59Cel89ZpW_ffx9LUL6kCoHj2uHv7LSFtgTuHeiYd8FN8VEyLzYLz7FJLBSNIcqwSOjdN7cqLASOk7BS51XFf8p3V8xM_4P-dDKeuUsiG9JJA_Xyf21KSpx7kFzSRvTrPhfkf16A39yxutywg6gfp_GbVRtrPjnuTETxajlAjbWWJTvfIXt-0XCdgWbZg2I0HnZJV2Gx-46J1nEBKaf6DSi7CC4U5itKRrvdOb0jXU_CjjlKKVqArHp7M" />
                    <div class="ml-4">
                        <h3 class="font-bold text-lg text-gray-800">Pranay</h3>
                        <p class="text-sm text-gray-500">pg@gmail.com</p>
                    </div>
                </div>
                <nav class="space-y-4">
                    <a class="flex items-center text-gray-700 hover:text-green-600" href="#"><span
                            class="icon mr-3">person_outline</span><span>My Profile</span></a>
                    <a class="flex items-center text-gray-700 hover:text-green-600" href="#"><span
                            class="icon mr-3">person_outline</span><span>My Orders</span></a>
                    <a class="flex items-center text-gray-700 hover:text-green-600" href="#"><span
                            class="icon mr-3">favorite_border</span><span>Favorites</span></a>
                    <a class="flex items-center text-gray-700 hover:text-green-600" href="#"><span
                            class="icon mr-3">settings</span><span>Settings</span></a>
                    <a class="flex items-center text-gray-700 hover:text-green-600" href="#"><span
                            class="icon mr-3">help_outline</span><span>Help &amp; FAQ</span></a>
                </nav>

            </div>
            <div class="absolute inset-0 z-40" id="close-menu-overlay"></div>
        </div>
        <div class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"
            id="notification-panel">
            <div class="bg-white p-6 rounded-lg shadow-xl w-11/12 max-w-sm">
                <h3 class="text-lg font-semibold mb-4">Notifications</h3>
                <p>No new notifications.</p>
                <button class="mt-4 px-4 py-2 bg-green-500 text-white rounded-lg w-full"
                    id="close-notification-btn">Close</button>
            </div>
        </div>
    </div>
    <script>
        const plantData = {
            indoor: [{ id: 1, name: 'Monstera Adansonii', family: 'Monstera family', price: 15, image: 'https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRrETk86yUsM5bce8pFljAeO3r2RNAMyKo9iPWrTVC0hDO6o5IkXqpFkSa5iszGZHL3WuLDJc2HiR9-Q0ltVzkl1EUcGTbLi8G4XcGxHAPY_A', fav: false }, { id: 2, name: 'Janda Bolong', family: 'Agung suka family', price: 20, image: 'https://www.shutterstock.com/shutterstock/photos/1955516257/display_1500/stock-photo-janda-bolong-or-monstera-adansonii-the-adanson-s-monstera-swiss-cheese-plant-or-five-holes-plant-1955516257.jpg', fav: false }, { id: 3, name: 'Snake Plant', family: 'Sansevieria family', price: 18, image: 'https://m.media-amazon.com/images/I/715ow8JqF8L._UF1000,1000_QL80_.jpg', fav: false }, { id: 4, name: 'Spider Plant', family: 'Chlorophytum family', price: 12, image: 'https://m.media-amazon.com/images/I/61bfaK6hWpL._UF1000,1000_QL80_.jpg', fav: false }, { id: 5, name: 'ZZ Plant', family: 'Zamioculcas family', price: 22, image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS1DWiwMdI_nbijjRyWonc7GCKvcwhzrHPr4w&s', fav: false }],
            crops: [{ id: 6, name: 'Tomato Plant', family: 'Solanum family', price: 10, image: 'https://m.media-amazon.com/images/I/51k6WRpBVtL._UF1000,1000_QL80_.jpg', fav: false }, { id: 7, name: 'Bell Pepper', family: 'Capsicum family', price: 12, image: 'https://grangettos.com/cdn/shop/articles/shutterstock_732301561_2000x.jpg?v=1617324797', fav: false }, { id: 8, name: 'Cucumber', family: 'Cucumis family', price: 8, image: 'https://www.greendna.in/cdn/shop/products/cucumber_1_600x.jpg?v=1594219681', fav: false }, { id: 9, name: 'Lettuce', family: 'Lactuca family', price: 7, image: 'https://www.allthatgrows.in/cdn/shop/articles/Feat_Image-Lettuce.jpg?v=1565168838', fav: false }],
            green: [{ id: 10, name: 'Fern', family: 'Polypodiopsida class', price: 14, image: 'https://m.media-amazon.com/images/I/81wq7tccI7L._UF1000,1000_QL80_.jpg', fav: false }, { id: 11, name: 'Pothos', family: 'Araceae family', price: 16, image: 'https://www.planetnatural.com/wp-content/uploads/2023/01/Global-Green-Pothos-920x518.jpg', fav: false }, { id: 12, name: 'Philodendron', family: 'Araceae family', price: 19, image: 'https://greenparadiselive.com/cdn/shop/files/RED_PHILEDENDRON_PLANT_1200x1200.png?v=1718346938', fav: false }, { id: 13, name: 'Aglaonema', family: 'Araceae family', price: 21, image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRT5rvSuIsUQwf6TmnAarv52nWdiNSQ2xgwVA&s', fav: false }]
        };
        const offerData = [{ title: 'Exclusive Offer', text: 'Get your 1st plant @ 60% off' }, { title: 'Summer Sale', text: 'Buy 2 get 1 free on all succulents' }, { title: 'New Arrivals', text: 'Check out our new exotic plants' }, { title: 'Free Shipping', text: 'On orders over $50' }, { title: 'Weekend Special', text: '20% off on all pots and tools' },];
        let currentOfferIndex = 0;
        let currentCategory = 'indoor';
        let currentPlants = [...plantData.indoor];
        const plantListEl = document.getElementById('plant-list');
        const searchInput = document.getElementById('search-input');
        const indoorBtn = document.getElementById('indoor-btn');
        const cropsBtn = document.getElementById('crops-btn');
        const greenBtn = document.getElementById('green-btn');
        const menuEl = document.getElementById('menu');
        const menuBtn = document.getElementById('menu-btn');
        const closeMenuOverlay = document.getElementById('close-menu-overlay');
        const pages = {
            'home': document.getElementById('home-page'),
            'plant-health': document.getElementById('plant-health-page'),
            'subscriptions': document.getElementById('subscriptions-page'),
            'ecommerce': document.getElementById('ecommerce-page'),
            'recommendations': document.getElementById('recommendations-page')
        };
        function renderPlants(plants) {
            if (!plantListEl) return;
            plantListEl.innerHTML = '';
            plants.forEach(plant => {
                const plantCard = `
                <div class="bg-lime-50 rounded-2xl p-4 flex items-center justify-between">
                    <div class="flex items-center">
                        <div class="relative">
                            <img src="${plant.image}" alt="${plant.name}" class="w-20 h-20 object-cover rounded-lg">
                            <button data-id="${plant.id}" class="fav-btn absolute bottom-1 left-1 bg-white rounded-full p-1 shadow-md">
                                <span class="icon text-lg ${plant.fav ? 'text-red-500' : 'text-gray-400'}">${plant.fav ? 'favorite' : 'favorite_border'}</span>
                            </button>
                        </div>
                        <div class="ml-4">
                            <h3 class="font-semibold text-gray-800">${plant.name}</h3>
                            <p class="text-sm text-gray-500">${plant.family}</p>
                            <p class="font-bold text-gray-800 mt-2">$ ${plant.price}</p>
                        </div>
                    </div>
                    <button class="bg-green-200 text-green-800 rounded-full w-12 h-12 flex items-center justify-center text-2xl font-light">+</button>
                </div>
            `;
                plantListEl.insertAdjacentHTML('beforeend', plantCard);
            });
        }
        function filterPlants() {
            const searchTerm = searchInput.value.toLowerCase();
            const filteredPlants = currentPlants.filter(plant => plant.name.toLowerCase().includes(searchTerm) || plant.family.toLowerCase().includes(searchTerm));
            renderPlants(filteredPlants);
        }
        function switchCategory(category, btn) {
            currentCategory = category;
            currentPlants = [...plantData[category]];
            if (searchInput) searchInput.value = '';
            [indoorBtn, cropsBtn, greenBtn].forEach(b => {
                if (b) {
                    b.classList.remove('text-green-600', 'border-b-2', 'border-green-600');
                    b.classList.add('text-gray-500');
                }
            });
            if (btn) {
                btn.classList.add('text-green-600', 'border-b-2', 'border-green-600');
                btn.classList.remove('text-gray-500');
            }
            renderPlants(currentPlants);
        }
        function toggleMenu() {
            menuEl.classList.toggle('hidden');
        }
        function handleFooterClick(page, event) {
            Object.values(pages).forEach(p => p.classList.add('hidden'));
            if (pages[page]) {
                pages[page].classList.remove('hidden');
            }
            const buttons = document.querySelectorAll('footer button');
            buttons.forEach(button => {
                button.classList.remove('text-green-600');
                button.classList.add('text-gray-400');
            });
            const clickedButton = event.currentTarget;
            clickedButton.classList.remove('text-gray-400');
            clickedButton.classList.add('text-green-600');
        }
        if (searchInput) searchInput.addEventListener('input', filterPlants);
        if (indoorBtn) indoorBtn.addEventListener('click', () => switchCategory('indoor', indoorBtn));
        if (cropsBtn) cropsBtn.addEventListener('click', () => switchCategory('crops', cropsBtn));
        if (greenBtn) greenBtn.addEventListener('click', () => switchCategory('green', greenBtn));
        if (plantListEl) {
            plantListEl.addEventListener('click', (e) => {
                const favBtn = e.target.closest('.fav-btn');
                if (favBtn) {
                    const plantId = parseInt(favBtn.dataset.id);
                    const plant = plantData[currentCategory].find(p => p.id === plantId);
                    if (plant) {
                        plant.fav = !plant.fav;
                        filterPlants();
                    }
                }
            });
        }
        menuBtn.addEventListener('click', toggleMenu);
        closeMenuOverlay.addEventListener('click', toggleMenu);
        const notificationPanel = document.getElementById('notification-panel');
        document.getElementById('notification-btn').addEventListener('click', () => notificationPanel.classList.remove('hidden'));
        document.getElementById('close-notification-btn').addEventListener('click', () => notificationPanel.classList.add('hidden'));
        const scanBtn = document.getElementById('scan-btn');
        if (scanBtn) scanBtn.addEventListener('click', () => alert('Scan QR code! Functionality to be implemented. This would typically open the camera.'));
        const exclusiveOfferEl = document.getElementById('exclusive-offer');
        if (exclusiveOfferEl) {
            document.getElementById('swipe-btn').addEventListener('click', () => {
                currentOfferIndex = (currentOfferIndex + 1) % offerData.length;
                const offer = offerData[currentOfferIndex];
                exclusiveOfferEl.querySelector('h2').textContent = offer.title;
                exclusiveOfferEl.querySelector('p').textContent = offer.text;
            });
        }
        renderPlants(currentPlants);
    </script>
    <script>
        const scanBtn1 = document.getElementById('scan-btn');
        const qrReader = document.getElementById('qr-reader');

        scanBtn.addEventListener('click', () => {
            qrReader.style.display = 'block'; // Show the scanner
            startScanner();
        });

        function startScanner() {
            const html5QrCode = new Html5Qrcode("qr-reader");

            html5QrCode.start(
                { facingMode: "environment" }, // Use rear camera if available
                {
                    fps: 10,    // Optional: frames per second
                    qrbox: 250  // Optional: size of QR box
                },
                (decodedText, decodedResult) => {
                    console.log("QR Code scanned:", decodedText);
                    alert("Scanned: " + decodedText);
                    html5QrCode.stop(); // Stop scanning after success
                    qrReader.style.display = 'none'; // Hide the scanner
                },
                (errorMessage) => {
                    // console.log(`QR scan error: ${errorMessage}`);
                }
            ).catch(err => {
                console.error("Unable to start scanning", err);
            });
        }
    </script>


</body>

</html>